(window.webpackJsonpchatbot_manage=window.webpackJsonpchatbot_manage||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/grayline.beaba093.svg"},function(e,t,a){e.exports=a.p+"static/media/AQOOM_logo.2ada93ac.png"},,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/Hand.33162f95.svg"},function(e,t,a){e.exports=a.p+"static/media/messagebubbles.3acd4b55.svg"},function(e,t,a){e.exports=a.p+"static/media/memberprofile.9eb76938.svg"},function(e,t,a){e.exports=a.p+"static/media/spam.6e0657fa.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/interaction_line.c66dd7ac.svg"},function(e,t,a){e.exports=a.p+"static/media/interaction_bubble.e3a66928.svg"},function(e,t,a){e.exports=a.p+"static/media/moderation_line.a1f4329f.svg"},function(e,t,a){e.exports=a.p+"static/media/moderation_bubble.58c27933.svg"},function(e,t,a){e.exports=a.p+"static/media/analytics_line.e258e440.svg"},function(e,t,a){e.exports=a.p+"static/media/AQOOM_whitelogo.311ee2ce.svg"},function(e,t,a){e.exports=a(92)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(32),l=a.n(r),s=(a(51),a(13)),c=a(8),o=a(14),u=(a(52),a(2)),m=a(3),d=a(5),h=a(4),p=a(6),f=a(33),g=a.n(f),_=a(34),v=a.n(_),E=a(35),b=a.n(E),y=a(36),w=a.n(y),k=(a(53),function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"app_container"},i.a.createElement("div",{className:"main_contents"},i.a.createElement("section",{className:"main_intro"},i.a.createElement("div",{className:"intro_desc"},i.a.createElement("h2",null,"managing Telegram groups made easier"),i.a.createElement("p",null,"Creating solutions for Community Managers to have a easy and deep interaction with users while having the right data that can help further grow your community!"),i.a.createElement(c.b,{to:"/signin"},"Try AQOOM")),i.a.createElement("div",{className:"intro_img"},i.a.createElement("img",{src:g.a}))),i.a.createElement("section",{className:"main_features",id:"main_features"},i.a.createElement("div",{className:"features_item"},i.a.createElement("div",{className:"feature_img"},i.a.createElement("img",{src:v.a})),i.a.createElement("div",{className:"feature_desc"},i.a.createElement("h2",null,"listen ",i.a.createElement("br",null),"& interact"),i.a.createElement("p",null,"With an all-in-one interface, you know you can listen and interact with your users effectively. There\u2019s a dedicated space for questions and messages directed for admins, so you\u2019ll never miss an opportunity to reply and interact."))),i.a.createElement("div",{className:"features_item"},i.a.createElement("div",{className:"feature_desc"},i.a.createElement("h2",null,"growth and user focused"),i.a.createElement("p",null,"All the information you know you need to know about your community and users are all included. With these data, you can strategize, plan ahead for your future events and promotions.")),i.a.createElement("div",{className:"feature_img"},i.a.createElement("img",{src:b.a}))),i.a.createElement("div",{className:"features_item"},i.a.createElement("div",{className:"feature_img"},i.a.createElement("img",{src:w.a})),i.a.createElement("div",{className:"feature_desc"},i.a.createElement("h2",null,"protecting ",i.a.createElement("br",null),"your community"),i.a.createElement("p",null,"We are sure that your community will be protected in any form of spam. With basic to advanced filters, you have a full control over your community. These can protect and improve your brand image.")))),i.a.createElement("section",{className:"main_footer"},i.a.createElement("div",{className:"footer_desc"},i.a.createElement("p",null,"Start and grow your community with ease! ",i.a.createElement("br",null)," Manage it like never before.")),i.a.createElement(c.b,{to:"/signin"},"Try AQOOM"))))}}]),t}(i.a.Component)),N=a(1),S=a.n(N),C=a(18),I=a.n(C),O=a(39),j=a.n(O),q=(a(76),function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"checkValidation",value:function(e){var t=this;S.a.post("checkValidation",{id:e},{withCredentials:!0}).then((function(e){if(200===e.status)if(!1!==e.data){window.localStorage.setItem("chat_id_list",JSON.stringify(e.data.id)),window.localStorage.setItem("chat_id",e.data.id[0]);var a=t.getUTCExpiredTime();document.cookie="living=true; expires="+a,window.location.href="/"}else alert("it's not valid input. check again if chat Room's name or activation code is valid.")}))}},{key:"getUTCExpiredTime",value:function(){var e=new Date,t=e.getTime()+72e4;return e.setTime(t),e.toUTCString()}},{key:"onTelegramAuth",value:function(e){this.checkValidation(e.id),window.sessionStorage.setItem("tel_id",e.id)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"signin_container"},i.a.createElement("div",{className:"aqoom_logo"},i.a.createElement("img",{src:I.a})),i.a.createElement("div",{className:"login_box"},i.a.createElement("p",{className:"login_info"},"Please login with your Telegram ",i.a.createElement("br",null),"to proceed to your dashboard."),i.a.createElement(j.a,{dataOnauth:function(t){return e.onTelegramAuth(t)},botName:"aqoom_bot"}),i.a.createElement("p",{className:"login_help"},"AQOOM uses Telegram Secure ID to provide seamless automation of group management services. To learn more about Telegram Login works for websites, click ",i.a.createElement("a",{href:"https://telegram.org/blog/login"},"here"),". ",i.a.createElement("br",null),i.a.createElement("br",null)," Having trouble logging in? Contact us at",i.a.createElement("a",{href:"mailto:info@aqoom.com"}," info@aqoom.com"))))}}]),t}(i.a.Component)),x=(a(77),a(17)),M=a.n(x),T=a(40),D=a.n(T),A=a(41),F=a.n(A),W=a(42),R=a.n(W),U=a(43),L=a.n(U),B=a(44),Q=a.n(B),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={list_interaction:["Collected Questions","Messages Directed to Admins","Scheduled Announcemnets","Welcome Messages"],list_moderation:["Anti-Spam","Filters","Warning Points System","Activity Notification"],list_analytics:["Scheduled Reports","User data insights","Community Reports","Bot performance"]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"features_container"},i.a.createElement("section",{className:"features_intro"},i.a.createElement("h2",{className:"session_title"},"just the right features."),i.a.createElement("p",{className:"session_desc"},"We collected all the features that you need for your growing Telegram community. These features can help you have the right tools managing and moderating your groups."),i.a.createElement("a",{href:"/signin"},"Try AQOOM")),i.a.createElement("section",{className:"features_interaction"},i.a.createElement("img",{src:M.a}),i.a.createElement("img",{src:D.a}),i.a.createElement("h2",{className:"session_title"},"interaction"),i.a.createElement("ul",null,this.state.list_interaction.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("div",{className:"check_icon"}),i.a.createElement("p",null,e))}))),i.a.createElement("p",{className:"session_desc"},"Interacting with your users has never been this easy. With an all-in-one interface where you can directly reply to questions, answer queries, or just reply to different kind of messages, you\u2019ll never miss an opportunity to indulge in to a conversation. You can also directly ban, kick, or delete a message in the same message log. You can also set different announcements for different times."),i.a.createElement("img",{src:F.a})),i.a.createElement("section",{className:"features_moderation"},i.a.createElement("img",{src:M.a}),i.a.createElement("img",{src:R.a}),i.a.createElement("h2",{className:"session_title"},"moderation"),i.a.createElement("ul",null,this.state.list_moderation.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("div",{className:"check_icon"}),i.a.createElement("p",null,e))}))),i.a.createElement("p",{className:"session_desc"},"From basic to advanced filters, you know that there\u2019s no message that is going to be out of control. You have full control over on what are allowed and restricted in your chat group. And with the Warning Points System, you have an option to send warnings, ban, or kick a member who accumulated a certain amount of points. And even if you have not turned on a filter, you\u2019ll be notified on what is on and what you could be changed."),i.a.createElement("img",{src:L.a})),i.a.createElement("section",{className:"features_analytics"},i.a.createElement("img",{src:M.a}),i.a.createElement("img",{src:Q.a}),i.a.createElement("h2",{className:"session_title"},"data & analytics"),i.a.createElement("ul",null,this.state.list_analytics.map((function(e,t){return i.a.createElement("li",{key:t},i.a.createElement("div",{className:"check_icon"}),i.a.createElement("p",null,e))}))),i.a.createElement("p",{className:"session_desc"},"We provide the right data for your Community Managers to gain insights about your users to strategize and formulate your new next event or promotion! You can also receive reports whenever you want it, no reminders needed! In addition to that you\u2019ll know how much is your bot performing in your Telegram groups. So you\u2019ll know if you need to be more lenient or if you just have just the right restrictions.")),i.a.createElement("img",{src:M.a}),i.a.createElement("h4",{className:"foot_desc"},"Just the right amount of features that fits your needs."),i.a.createElement("a",{href:"/signin"},"Try AQOOM"))}}]),t}(i.a.Component),V=(a(78),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={default_info:[],group_list:[],current_group:[],current_group_members_cnt:0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getChatInfos",value:function(e,t){var a=this;if(e)return S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChat"),{chat_id:e}).then((function(e){if(e.data.result.photo)S.a.get("https://api.telegram.org/bot".concat(a.props.botId,"/getFile?file_id=")+e.data.result.photo.small_file_id).then((function(n){var i={id:e.data.result.id,photo:n.data.result,title:e.data.result.title};"current"===t?a.setState({current_group:i}):"grouplist"===t&&a.state.default_info.push(i)}));else{var n={id:e.data.result.id,photo:"",title:e.data.result.title};"current"===t?a.setState({current_group:n}):"grouplist"===t&&a.state.default_info.push(n)}}))}},{key:"getChatMemCount",value:function(e){var t=this;return S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChatMembersCount"),{chat_id:e}).then((function(e){t.setState({current_group_members_cnt:e.data.result})}))}},{key:"componentWillMount",value:function(){var e=this,t=JSON.parse(window.localStorage.getItem("chat_id_list")),a=window.localStorage.getItem("chat_id");a&&(this.getChatInfos(a,"current"),this.getChatMemCount(a));var n=!0,r=!1,l=void 0;try{for(var s,c=t[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var o=s.value;this.getChatInfos(o,"grouplist").then((function(){e.setState({group_list:e.state.default_info.map((function(t,a){return i.a.createElement("div",{className:"group_list",key:a,"data-chatid":t.id,onClick:function(t){return e.change_group(t)}},i.a.createElement("div",{className:"group_img"},i.a.createElement("img",{src:t.photo})),i.a.createElement("div",{className:"group_title"},i.a.createElement("p",null,t.title)))}))})})).catch((function(e){return!1}))}}catch(u){r=!0,l=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}}},{key:"change_group",value:function(e){window.localStorage.setItem("chat_id",e.currentTarget.dataset.chatid),window.location.reload()}},{key:"activeNav",value:function(e){var t=document.querySelector(".nav_contents > a.active");return t&&t.classList.remove("active"),document.querySelector(".nav_contents > a:nth-child(".concat(e,")")).classList.add("active"),!1}},{key:"dragoutGrouplist",value:function(){document.querySelector(".nav_groups").classList.add("active"),document.querySelector(".dim").style.display="block",document.querySelector(".dim").addEventListener("click",this.draginGrouplist)}},{key:"draginGrouplist",value:function(){document.querySelector(".nav_groups").classList.remove("active"),document.querySelector(".dim").style.display="none"}},{key:"render",value:function(){var e=this;return i.a.createElement("section",{className:"left_nav"},i.a.createElement("div",{className:"current_group",onClick:function(){return e.dragoutGrouplist()}},i.a.createElement("div",{className:"group_img"},i.a.createElement("img",{src:this.state.current_group.photo})),i.a.createElement("div",{className:"group_title"},i.a.createElement("p",null,this.state.current_group.title),i.a.createElement("p",null,this.state.current_group_members_cnt," members")),i.a.createElement("div",{class:"arrow_down_icon"})),i.a.createElement("div",{className:"nav_groups"},this.state.group_list),i.a.createElement("div",{className:"nav_contents"},i.a.createElement(c.b,{to:"/dashboard",onClick:function(t){return e.activeNav(1)}},i.a.createElement("i",{className:"icon icon-dashboard"})," Dashboard"),i.a.createElement(c.b,{to:"/modules",onClick:function(t){return e.activeNav(2)}},i.a.createElement("i",{className:"icon icon-modules"})," Modules"),i.a.createElement(c.b,{to:"/settings",onClick:function(t){return e.activeNav(3)}},i.a.createElement("i",{className:"icon icon-setting"})," Settings")))}}]),t}(i.a.Component)),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={default_info:[],chat_photo:[],isOpen:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("chat_id"),a=window.sessionStorage.getItem("tel_id");S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/getChatMember"),{chat_id:t,user_id:a}).then((function(t){e.setState({default_info:t.data.result.user}),t.data.result.photo&&S.a.get("https://api.telegram.org/bot".concat(e.props.botId,"/getFile?file_id=")+t.data.result.photo.small_file_id).then((function(t){e.setState({chat_photo:t.data.result})}))})).catch((function(e){return alert("cannot find a user"),!1}))}},{key:"getHeaderPhoto",value:function(){return void 0!==this.state.chat_photo.file_path?i.a.createElement("img",{src:"https://api.telegram.org/file/bot".concat(this.props.botId,"/")+this.state.chat_photo.file_path}):""}},{key:"toggleDropbox",value:function(){this.state.isOpen?this.setState({isOpen:!1}):this.setState({isOpen:!0})}},{key:"logout",value:function(){window.localStorage.removeItem("chat_id"),document.cookie="living=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",document.cookie="STAY_C=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",window.location.href="/"}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"section_header"},i.a.createElement("div",{className:"header_logo"}),i.a.createElement("div",{className:"header_infos"},i.a.createElement("div",{className:"header_name",onClick:function(){return e.toggleDropbox()}},i.a.createElement("span",null,this.state.default_info.username),i.a.createElement("span",{className:"icon icon-down"})),i.a.createElement("ul",{className:this.state.isOpen?"header_drop open":"header_drop"},i.a.createElement("li",null,this.state.default_info.username),i.a.createElement("li",{style:{color:"#2F2F2F"},onClick:function(){return e.logout()}},"LOG OUT")),i.a.createElement("div",{className:"header_photo"},this.getHeaderPhoto())))}}]),t}(i.a.Component),Y=a(45),Z=a.n(Y);var J=function(e){return i.a.createElement("div",{className:"footer"},i.a.createElement("div",{className:"footer_container"},i.a.createElement("div",{className:"footer_left"},i.a.createElement("div",{className:"aqoom_logo"},i.a.createElement("img",{src:Z.a})),i.a.createElement("div",{className:"aqoom_right"},"All rights reserved 2020 \xa9 AQOOM")),i.a.createElement("div",{className:"footer_right"},i.a.createElement("a",{href:"http://aqoom.info/",target:"_blank"},"ABOUT US"),i.a.createElement("a",{href:"mailto:contact@aqoom.com"},"CONTACT US"))))};var G=function(e){return i.a.createElement("header",{className:"App-header"},i.a.createElement("a",{className:"aqoom_logo",href:"/"},i.a.createElement("img",{src:I.a})),i.a.createElement("div",{className:"nav_menus"},i.a.createElement("a",{href:"/#/features"},"Features"),e.onLogin?i.a.createElement(c.b,{to:"/dashboard",className:"signin_btn",onClick:function(){var t=new Date,a=t.getTime()+72e4;t.setTime(a),document.cookie="STAY_C=true; expires="+t.toUTCString(),e.setValid(!0)}},"To Console"):i.a.createElement(c.b,{to:"/signin",className:"signin_btn"},"Sign in")))};var H=function(e){return i.a.createElement("div",{className:"section_title"},i.a.createElement("h2",{className:"title"},e.title))},K=(a(79),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={wordlist:[],value:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getWordData()}},{key:"changeValues",value:function(e){this.setState({value:e.target.value})}},{key:"submit_blacklist",value:function(e){var t=this;if(0!==this.state.value.length){var a=this.state.value,n=window.localStorage.getItem("chat_id");if(0===n.length)return alert("There is any valid key of chatting information"),!1;S.a.post("pushWordData",{word:a,chat_id:n}).then((function(e){e.data&&(t.getWordData(),t.setState({value:""}))}))}}},{key:"changeStateWordlist",value:function(e,t){return e?S.a.post("editWordData",{chat_id:window.localStorage.getItem("chat_id"),content:0,type:"status",id:t}):S.a.post("editWordData",{chat_id:window.localStorage.getItem("chat_id"),content:1,type:"status",id:t}),!1}},{key:"getWordData",value:function(){var e=this;S.a.post("getWordData",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){if(t.data&&200===t.status){var a=t.data;e.setState({wordlist:a.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.word_name),i.a.createElement("td",null,t.created_time),i.a.createElement("td",null,i.a.createElement("span",{className:"delete_icon icon",onClick:function(a){return e.deleteWord(t.word_name)}}),i.a.createElement("span",null," Delete")),i.a.createElement("td",null,i.a.createElement("div",{className:"disable_btn_wrap"},i.a.createElement("label",{className:"filter_group",htmlFor:a+"_whitelist"},i.a.createElement("input",{type:"checkbox",className:"option_item",id:a+"_whitelist",onChange:function(a){return e.changeStateWordlist(t.is_active,t.idx)},defaultChecked:!!t.is_active}),i.a.createElement("span",{className:"filter_label"}),i.a.createElement("span",{className:"filter_circle"})))))}))})}}))}},{key:"deleteWord",value:function(e){var t=this;window.confirm("Are you sure to Delete this Item?")&&S.a.post("delWordData",{word:e,chat_id:window.localStorage.getItem("chat_id")}).then((function(a){200===a.status&&!0===a.data&&(alert("delete '".concat(e,"' successfully ")),t.getWordData())}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"section_wordmanager"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"Blacklist")),i.a.createElement(H,{title:"Manage Blacklist"}),i.a.createElement("div",{className:"blacklist_input_wrap"},i.a.createElement("label",{htmlFor:"blacklist_input",className:"blacklist_label"},"Enter words you want to ban"),i.a.createElement("div",{className:"input_wrap"},i.a.createElement("input",{id:"blacklist_input",className:"blacklist_input",onChange:function(t){return e.changeValues(t)},onKeyUp:function(t){13===t.which&&e.submit_blacklist(t)},value:this.state.value}),i.a.createElement("button",{type:"button",className:"blacklist_register",onClick:function(t){return e.submit_blacklist(t)}},"ADD"))),i.a.createElement("p",{className:"table_title"},"Blacklist"),i.a.createElement("table",{className:"blacklist_tb"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{width:"35%"},"Words"),i.a.createElement("th",{width:"45%"},"Date Added"),i.a.createElement("th",{width:"10%"},"Action"),i.a.createElement("th",{width:"10%"},"Status"))),i.a.createElement("tbody",null,0===this.state.wordlist.length?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"3",className:"empty_item"},"No Items")):this.state.wordlist)))}}]),t}(i.a.Component)),$=(a(80),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={whitelist:[],value:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"submit_whitelist",value:function(e){var t=this;if(0!==this.state.value.length){var a=this.state.value;if(this.checkValidation(a)){var n=window.localStorage.getItem("chat_id");if(0===n.length)return alert("There is any valid key of chatting information"),!1;S.a.post("pushWhitelist",{pattern:a,chat_id:n}).then((function(e){e.data&&(t.getWhitelist(),t.setState({value:""}))}))}else alert("Invalid URL address, please check it again")}}},{key:"checkValidation",value:function(e){if("string"===typeof e){return!(!/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,}|[a-zA-Z0-9]+\.[^\s]{2,})/.test(e)&&!/^\/[\s\S]*\/$/.test(e))}}},{key:"changeValues",value:function(e){this.setState({value:e.target.value})}},{key:"deleteWhitelist",value:function(e){var t=this;window.confirm("Are you sure to Delete this Item?")&&S.a.post("delWhitelist",{url:e,chat_id:window.localStorage.getItem("chat_id")}).then((function(a){200===a.status&&!0===a.data&&(alert("delete '".concat(e,"' successfully ")),t.getWhitelist())}))}},{key:"changeStateWhitelist",value:function(e,t){return e?S.a.post("updateWhitelist",{chat_id:window.localStorage.getItem("chat_id"),content:0,type:"status",id:t}):S.a.post("updateWhitelist",{chat_id:window.localStorage.getItem("chat_id"),content:1,type:"status",id:t}),!1}},{key:"getWhitelist",value:function(){var e=this,t=window.localStorage.getItem("chat_id");0!==t.length&&S.a.post("getWhitelist",{chat_id:t}).then((function(t){var a=t.data,n=[],r=!0,l=!1,s=void 0;try{for(var c,o=a[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var u=c.value;n.push(u)}}catch(m){l=!0,s=m}finally{try{r||null==o.return||o.return()}finally{if(l)throw s}}e.setState({whitelist:n.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.url_pattern),i.a.createElement("td",null,new Date(t.created_date).toUTCString()),i.a.createElement("td",null,i.a.createElement("span",{className:"delete_icon icon",onClick:function(a){return e.deleteWhitelist(t.url_pattern)}}),i.a.createElement("span",null," Delete")),i.a.createElement("td",null,i.a.createElement("div",{className:"disable_btn_wrap"},i.a.createElement("label",{className:"filter_group",htmlFor:a+"_whitelist"},i.a.createElement("input",{type:"checkbox",className:"option_item",id:a+"_whitelist",onChange:function(a){return e.changeStateWhitelist(t.is_active,t.id)},defaultChecked:!!t.is_active}),i.a.createElement("span",{className:"filter_label"}),i.a.createElement("span",{className:"filter_circle"})))))}))})}))}},{key:"componentDidMount",value:function(){this.getWhitelist()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"section_whitelist"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"Whitelist")),i.a.createElement(H,{title:"Manage Whitelist"}),i.a.createElement("div",{className:"whitelist_input_wrap"},i.a.createElement("label",{htmlFor:"whitelist_input",className:"whitelist_label"},"Enter URL you want to ban"),i.a.createElement("div",{className:"input_wrap"},i.a.createElement("input",{id:"whitelist_input",className:"whitelist_input",onChange:function(t){return e.changeValues(t)},onKeyUp:function(t){13===t.which&&e.submit_whitelist(t)},value:this.state.value}),i.a.createElement("button",{type:"button",className:"whitelist_register",onClick:function(t){return e.submit_whitelist(t)}},"ADD"))),i.a.createElement("p",{className:"table_title"},"Whitelist"),i.a.createElement("table",{className:"whitelist_tb"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{width:"35%"},"URL"),i.a.createElement("th",{width:"45%"},"Date Added"),i.a.createElement("th",{width:"10%"},"Action"),i.a.createElement("th",{width:"10%"},"Status"))),i.a.createElement("tbody",null,0===this.state.whitelist.length?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"3",className:"empty_item"},"No Items")):this.state.whitelist)))}}]),t}(i.a.Component)),X=(a(81),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={loglist:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.post("getLogs",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=t.data,n=[],r=!0,l=!1,s=void 0;try{for(var c,o=a[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var u=c.value;n.push(u)}}catch(m){l=!0,s=m}finally{try{r||null==o.return||o.return()}finally{if(l)throw s}}e.setState({loglist:n.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,a),i.a.createElement("td",null,e.getContent(t)),i.a.createElement("td",null,t.type),i.a.createElement("td",null,new Date(t.del_date).toUTCString()),i.a.createElement("td",null,e.render_resend_icon(t)))}))})}))}},{key:"getContent",value:function(e){if("photo"!==e.type)return e.msg;if(e.photo_base64){var t="data:image/jpg;base64,"+e.photo_base64;return i.a.createElement("img",{src:t,alt:"result of log"})}}},{key:"restoreMsg",value:function(e){var t={chat_id:window.localStorage.getItem("chat_id"),text:"<i> -> ".concat(e.msg_from,"</i>\n            \n            origin msg : <b>").concat(e.msg,"</b>"),parse_mode:"html"};S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/sendMessage"),t)}},{key:"render_resend_icon",value:function(e){var t=this;return"text"===e.type?i.a.createElement("span",{className:"icon resend_icon",onClick:function(a){return t.restoreMsg(e)}}):""}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_log"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules / "),"Logs")),i.a.createElement(H,{title:"Logs about blocked words or pictures"}),i.a.createElement("table",{className:"log_tb"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"#"),i.a.createElement("th",null,"content"),i.a.createElement("th",{width:"5%"},"type"),i.a.createElement("th",{width:"20%"},"date"),i.a.createElement("th",{width:"8%"},"re-send"))),i.a.createElement("tbody",null,this.state.loglist)))}}]),t}(i.a.Component)),ee=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={isEditable:!1,isImage:!1,question:a.props.data.faq_content,response:a.props.data.faq_response,uploadImage:"",imageType:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"deleteFaqList",value:function(e){var t=this;if(window.confirm("Are you sure to Delete this Item?")){var a={content:e,chat_id:window.localStorage.getItem("chat_id")};S.a.post("delFaqlist",a).then((function(e){e.data&&t.props.getFaqList()}))}}},{key:"changeToEdit",value:function(){this.setState({isEditable:!0})}},{key:"changeQuestion",value:function(e){return this.setState({question:e.target.value})}},{key:"changeResponse",value:function(e){return this.setState({response:e.target.value})}},{key:"toggleRespType",value:function(e){"text"===e?this.setState({isImage:!1}):"pic"===e&&this.setState({isImage:!0})}},{key:"confirmEdit",value:function(){var e=this,t=new FormData;t.append("chat_id",window.localStorage.getItem("chat_id")),t.append("question",this.state.question),t.append("response",this.state.response),t.append("response_img",this.state.uploadImage),t.append("response_type",this.state.isImage?"img":"txt"),t.append("img_type",this.state.imageType),t.append("id",this.props.data.id),t.get("chat_id")&&""!==t.get("question")&&S.a.post("updateFaqlist",t).then((function(t){t.data&&(e.props.getFaqList(),e.setState({isEditable:!1}))}))}},{key:"uploadedImage",value:function(e){var t=e.target.files[0];if(t.size>2097152)return alert("File size should be less than 2MB"),!1;this.makePreview(t),this.setState({imageType:t.type.split("/")[1],uploadImage:t})}},{key:"makePreview",value:function(e){var t=new FileReader,a=this.props.index;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result);for(var n=document.querySelector("#input_file_preview_"+a);n.firstChild;)n.removeChild(n.firstChild);n.appendChild(t)},t.readAsDataURL(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("tr",null,i.a.createElement("td",null,this.state.isEditable?i.a.createElement("textarea",{className:"list_content",value:this.state.question,onChange:function(t){return e.changeQuestion(t)}}):i.a.createElement("div",{className:"list_content"},this.props.data.faq_content)),i.a.createElement("td",null,this.state.isEditable?i.a.createElement("div",{className:"faq_content_wrap"},this.state.isImage?i.a.createElement("div",{id:"input_file_preview_"+this.props.index}):i.a.createElement("textarea",{value:this.state.response,onChange:function(t){return e.changeResponse(t)}}),i.a.createElement("div",{className:"response_type_btns_wrap"},this.state.isImage?i.a.createElement("span",{className:"icon text-icon-disabled",onClick:function(t){return e.toggleRespType("text")}}):i.a.createElement("span",{className:"icon text-icon-active",onClick:function(t){return e.toggleRespType("text")}}),i.a.createElement("span",null," | "),i.a.createElement("label",null,i.a.createElement("input",{type:"file",name:"faq_img",onChange:function(t){return e.uploadedImage(t)}}),this.state.isImage?i.a.createElement("span",{className:"icon pic-icon-active",onClick:function(){return e.toggleRespType("pic")}}):i.a.createElement("span",{className:"icon pic-icon-disabled",onClick:function(){return e.toggleRespType("pic")}})))):i.a.createElement("div",{className:"list_response"},"txt"===this.props.data.response_type?this.props.data.faq_response:i.a.createElement("img",{id:"faq_img"+this.props.index,src:this.props.data.faq_response_img,alt:"registerd for FAQ"}))),i.a.createElement("td",null,this.state.isEditable?i.a.createElement("div",{className:"edit_btns_wrap"},i.a.createElement("span",{className:"save_icon icon",onClick:function(t){return e.confirmEdit()}}),i.a.createElement("span",{className:"cancle_icon icon",onClick:function(t){return e.setState({isEditable:!1})}})):i.a.createElement("div",{className:"edit_btns_wrap"},i.a.createElement("span",{className:"edit_icon icon",onClick:function(t){return e.changeToEdit(e.props.index)}}),i.a.createElement("span",{className:"delete_icon icon",onClick:function(t){return e.deleteFaqList(e.props.data.faq_content)}}))))}}]),t}(i.a.Component),te=(a(82),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={val:"",response:"",faqlist:[],isImage:!1,uploadImage:"",imageType:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"changeValues",value:function(e){return this.setState({val:e.target.value})}},{key:"changeResponse",value:function(e){return this.setState({response:e.target.value})}},{key:"toggleRespType",value:function(e){"text"===e?this.setState({isImage:!1}):"pic"===e&&this.setState({isImage:!0})}},{key:"uploadedImage",value:function(e){var t=e.target.files[0];if(t.size>5242880)return alert("File size should be less than 5MB"),!1;this.makePreview(t),this.setState({imageType:t.type.split("/")[1],uploadImage:t})}},{key:"makePreview",value:function(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result);for(var a=document.querySelector(".input_file_preview");a.firstChild;)a.removeChild(a.firstChild);document.querySelector(".input_file_preview").appendChild(t)},t.readAsDataURL(e)}},{key:"removeImagePreview",value:function(){for(var e=document.querySelector(".input_file_preview");e.firstChild;)e.removeChild(e.firstChild)}},{key:"clearTexts",value:function(){return document.querySelector("textarea.faq_input").value="",this.state.isImage?this.removeImagePreview():document.querySelector("textarea#faq_response_input").value="",!0}},{key:"submit_faqlist",value:function(e){var t=this,a=new FormData;a.append("chat_id",window.localStorage.getItem("chat_id")),a.append("content",this.state.val),a.append("response",this.state.response),a.append("response_img",this.state.uploadImage),a.append("response_type",this.state.isImage?"img":"txt"),a.append("img_type",this.state.imageType),a.get("chat_id")&&""!==a.get("content")&&S.a.post("pushFaqlist",a).then((function(e){e.data&&(t.getFaqList(),t.clearTexts())}))}},{key:"convertToBase64",value:function(e,t,a){if(null!==e){var n=new Blob([e],{type:"image/"+t}),i=new FileReader;i.onload=function(e){document.querySelector("#"+a).src=e.target.result},i.readAsDataURL(n)}}},{key:"getFaqList",value:function(){var e=this,t=window.localStorage.getItem("chat_id");0!==t.length&&S.a.post("getFaqlist",{chat_id:t}).then((function(t){var a=t.data,n=[],r=!0,l=!1,s=void 0;try{for(var c,o=a[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var u=c.value;n.push(u)}}catch(m){l=!0,s=m}finally{try{r||null==o.return||o.return()}finally{if(l)throw s}}e.setState({faqlist:n.map((function(t,a){return i.a.createElement(ee,{data:t,index:a,getFaqList:function(){return e.getFaqList()},key:a})}))})}))}},{key:"componentDidMount",value:function(){this.getFaqList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"faq_section"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"FAQ Responder")),i.a.createElement(H,{title:"Manage automatic response for FAQ"}),i.a.createElement("div",{className:"faq_input_wrap"},i.a.createElement("div",{className:"faq_content_wrap"},i.a.createElement("label",{htmlFor:"faq_input"},"If the user says something similar to"),i.a.createElement("textarea",{id:"faq_input",className:"faq_input",onChange:function(t){return e.changeValues(t)}})),i.a.createElement("div",{className:"faq_content_wrap"},i.a.createElement("label",{htmlFor:"faq_response_input"},"The bot will reply"),this.state.isImage?i.a.createElement("div",{className:"input_file_preview"}):i.a.createElement("textarea",{id:"faq_response_input",onChange:function(t){return e.changeResponse(t)}}),i.a.createElement("div",{className:"response_type_btns_wrap"},this.state.isImage?i.a.createElement("span",{className:"icon text-icon-disabled",onClick:function(t){return e.toggleRespType("text")}}):i.a.createElement("span",{className:"icon text-icon-active",onClick:function(t){return e.toggleRespType("text")}}),i.a.createElement("span",null," | "),i.a.createElement("label",null,i.a.createElement("input",{type:"file",name:"faq_img",onChange:function(t){return e.uploadedImage(t)}}),this.state.isImage?i.a.createElement("span",{className:"icon pic-icon-active",onClick:function(){return e.toggleRespType("pic")}}):i.a.createElement("span",{className:"icon pic-icon-disabled",onClick:function(){return e.toggleRespType("pic")}}))))),i.a.createElement("button",{type:"button",className:"faq_register",onClick:function(t){return e.submit_faqlist(t)}},"ADD"),i.a.createElement("p",{className:"table_title"},"Responds"),i.a.createElement("table",{className:"faq_tb"},i.a.createElement("tbody",null,0===this.state.faqlist.length?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"3",className:"empty_item"},"No Items")):this.state.faqlist)))}}]),t}(i.a.Component)),ae=(a(83),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={response:"",faqlist:[],isImage:!1,uploadImage:"",imageType:"",preview_img:"",preview_txt:"",isEditable:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"changeResponse",value:function(e){return this.setState({response:e.target.value})}},{key:"changeToEdit",value:function(){this.setState({isEditable:!0})}},{key:"toggleRespType",value:function(e){"text"===e?this.setState({isImage:!1}):"pic"===e&&this.setState({isImage:!0})}},{key:"uploadedImage",value:function(e){var t=e.target.files[0];if(t.size>5242880)return alert("File size should be less than 5MB"),!1;this.makePreview(t),this.setState({imageType:t.type.split("/")[1],uploadImage:t})}},{key:"makePreview",value:function(e){var t=new FileReader;t.onload=function(e){var t=document.createElement("img");t.setAttribute("src",e.target.result);for(var a=document.querySelector(".input_file_preview");a.firstChild;)a.removeChild(a.firstChild);document.querySelector(".input_file_preview").appendChild(t)},t.readAsDataURL(e)}},{key:"removeImagePreview",value:function(){for(var e=document.querySelector(".input_file_preview");e.firstChild;)e.removeChild(e.firstChild)}},{key:"clearTexts",value:function(){return this.state.isImage?this.removeImagePreview():document.querySelector("textarea#start_response_input").value="",!0}},{key:"submit_startmenu",value:function(e){var t=this,a=new FormData;a.append("chat_id",window.localStorage.getItem("chat_id")),a.append("content_text",this.state.response),a.append("content_img",this.state.uploadImage),a.append("content_type",this.state.isImage?"img":"txt"),a.append("img_type",this.state.imageType),a.get("chat_id")&&S.a.post("pushStartMenu",a).then((function(e){e.data&&(t.getStartMenu(),t.clearTexts())}))}},{key:"deleteStartMenu",value:function(){var e=this;if(window.confirm("Are you sure to Delete this Item?")){var t={chat_id:window.localStorage.getItem("chat_id")};S.a.post("delStartMenu",t).then((function(t){t.data&&e.getStartMenu()}))}}},{key:"convertToBase64",value:function(e,t,a){if(null!==e){var n=new Blob([e],{type:"image/"+t}),i=new FileReader;i.onload=function(e){document.querySelector("#"+a).src=e.target.result},i.readAsDataURL(n)}}},{key:"getStartMenu",value:function(){var e=this;S.a.post("getStartMenu",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){e.setState({preview_img:t.data[0].content_img,preview_txt:t.data[0].content_txt})}))}},{key:"componentDidMount",value:function(){this.getStartMenu()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"startmenu_section"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules / "),"start command responder")),i.a.createElement(H,{title:"Manage automatic response for /start command"}),i.a.createElement("div",{className:"start_input_wrap"},i.a.createElement("div",{className:"start_content_wrap"},i.a.createElement("label",{htmlFor:"start_response_input"},"If the user types /start"),this.state.isImage?i.a.createElement("div",{className:"input_file_preview"}):i.a.createElement("textarea",{id:"start_response_input",onChange:function(t){return e.changeResponse(t)}}),i.a.createElement("div",{className:"response_type_btns_wrap"},this.state.isImage?i.a.createElement("span",{className:"icon text-icon-disabled",onClick:function(t){return e.toggleRespType("text")}}):i.a.createElement("span",{className:"icon text-icon-active",onClick:function(t){return e.toggleRespType("text")}}),i.a.createElement("span",null," | "),i.a.createElement("label",null,i.a.createElement("input",{type:"file",name:"faq_img",onChange:function(t){return e.uploadedImage(t)}}),this.state.isImage?i.a.createElement("span",{className:"icon pic-icon-active",onClick:function(){return e.toggleRespType("pic")}}):i.a.createElement("span",{className:"icon pic-icon-disabled",onClick:function(){return e.toggleRespType("pic")}}))))),i.a.createElement("button",{type:"button",className:"start_register",onClick:function(t){return e.submit_startmenu(t)}},"ADD"),i.a.createElement("p",{className:"table_title"},"Responds"),i.a.createElement("div",{className:"preview_wrap"},i.a.createElement("div",{className:"preview_contents"},"undefined"!==this.state.preview_img?i.a.createElement("div",{className:"preview_img"},i.a.createElement("img",{src:this.state.preview_img,alt:"preview of start menu"})):i.a.createElement("div",{className:"preview_txt"},this.state.preview_txt))))}}]),t}(i.a.Component)),ne=(a(84),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={members:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"kickMember",value:function(e){if(window.confirm("Are you sure to kick this user?")){var t={chat_id:window.localStorage.getItem("chat_id"),user_id:e};S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/kickChatMember"),t).then((function(e){setTimeout((function(){S.a.post("deleteUser",t),window.location.reload()}),2e3)}))}}},{key:"restrictMember",value:function(e,t){if(window.confirm("Are you sure to ban this user?")){var a={chat_id:window.localStorage.getItem("chat_id"),user_id:t,permissions:{can_send_messages:!1,can_send_media_messages:!1,can_send_polls:!1,can_send_other_messages:!1,can_pin_messages:!1,can_change_info:!1},until_date:3e5};S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/restrictChatMember"),a).then((function(t){e.currentTarget.style="color:red"})).catch((function(e){return alert(e),!1}))}}},{key:"interestMember",value:function(e){var t={user_id:e,chat_id:window.localStorage.getItem("chat_id")};S.a.post("/setInterest",t).then((function(){alert("Interesting list was updated, You can check it in 'forked users' of the menus")}))}},{key:"scoreUpByBounus",value:function(e){var t={user_id:e,chat_id:window.localStorage.getItem("chat_id")};S.a.post("/scoreUp",t).then((function(){alert("bonus points were just put in the user successfully.")}))}},{key:"componentDidMount",value:function(){var e=this;S.a.post("getMemberStatus",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=[],n=!0,r=!1,l=void 0;try{for(var s,c=t.data[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var o=s.value;o.is_bot||a.push(o)}}catch(u){r=!0,l=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}e.setState({members:a.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,a+1),i.a.createElement("td",null,t.username),i.a.createElement("td",null,t.score),i.a.createElement("td",null,t.act_txt_cnt+t.act_photo_cnt+t.act_url_cnt),i.a.createElement("td",null,i.a.createElement("span",{className:"icon kick_icon",onClick:function(){return e.kickMember(t.id)}})),i.a.createElement("td",null,i.a.createElement("span",{className:"icon interest_icon",onClick:function(){return e.interestMember(t.id)}})),i.a.createElement("td",null,i.a.createElement("span",{className:"icon bonus_icon",onClick:function(){return e.scoreUpByBounus(t.id)}})))}))})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_usermanager"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"Users")),i.a.createElement(H,{title:"Manage your customers"}),i.a.createElement("table",{className:"usermanager_tb"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{width:"5%"},"rank"),i.a.createElement("th",null,"username"),i.a.createElement("th",{width:"10%"},"scores"),i.a.createElement("th",{width:"10%"},"actions"),i.a.createElement("th",{width:"10%"},"kick"),i.a.createElement("th",{width:"10%"},"interested"),i.a.createElement("th",{width:"10%"},"bounus"))),i.a.createElement("tbody",null,0===this.state.members.length?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"3",className:"empty_item"},"No Items")):this.state.members)))}}]),t}(i.a.Component)),ie=function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).call(this,e))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"changeModules",value:function(e){return e.currentTarget.checked?S.a.post("/setStateModule",{chat_id:window.localStorage.getItem("chat_id"),target_id:this.props.list_id,status:1}):S.a.post("/setStateModule",{chat_id:window.localStorage.getItem("chat_id"),target_id:this.props.list_id,status:0}),!1}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"module_item"},i.a.createElement("div",{className:"module_title"},i.a.createElement("p",null,this.props.title)),i.a.createElement("div",{className:"module_content"},i.a.createElement("p",null,this.props.content)),i.a.createElement(c.b,{to:this.props.link},"SETTING"),this.props.isEditable?i.a.createElement("div",{className:"disable_btn_wrap"},i.a.createElement("label",{className:"filter_group",htmlFor:this.props.list_id+"_module"},i.a.createElement("input",{type:"checkbox",className:"option_item",id:this.props.list_id+"_module",onChange:function(t){return e.changeModules(t)},defaultChecked:!!this.props.is_active}),i.a.createElement("span",{className:"filter_label"}),i.a.createElement("span",{className:"filter_circle"}))):"")}}]),t}(i.a.Component),re=(a(85),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={itemlist:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getEntireModules",value:function(e){for(var t=[],a=[{id:1,title:"Whitelist",content:"Auto-delete unauthorized URLS",link:"/whitelist"},{id:2,title:"Blacklist",content:"Auto-delete banned words",link:"/blacklist"},{id:3,title:"FAQ",content:"Set auto-reply messages to frequently asked Questions",link:"/faq"},{id:4,title:"/start auto-response",content:"Set an auto-response when user types /start",link:"/startmenu"},{id:6,title:"Users",content:"Manage participated users",link:"/users"},{id:5,title:"Logs",content:"show logs",link:"/logs"}],n=0,i=Object.entries(e);n<i.length;n++){var r=i[n],l=Object(s.a)(r,2),c=l[0],o=l[1],u=c.split("_")[1];o&&t.push(a[u-1])}return t}},{key:"componentDidMount",value:function(){var e=this;S.a.post("/getStateModule",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=t.data[0],n=e.getEntireModules(a).map((function(e,t){return i.a.createElement(ie,{title:e.title,content:e.content,link:e.link,key:t,isEditable:!1})}));e.setState({itemlist:n})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_dashboard"},i.a.createElement(H,{title:"Active Modules"}),i.a.createElement("div",{className:"dashboard_list_wrap"},this.state.itemlist))}}]),t}(i.a.Component)),le=(a(86),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={itemlist:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getEntireModules",value:function(e){for(var t=[{id:1,title:"Whitelist",content:"Auto-delete unauthorized URLS",link:"/whitelist",is_editable:!0},{id:2,title:"Blacklist",content:"Auto-delete banned words",link:"/blacklist",is_editable:!0},{id:3,title:"FAQ",content:"Set auto-reply messages to frequently asked Questions",link:"/faq",is_editable:!0},{id:4,title:"/start auto-response",content:"Set an auto-response when user types /start",link:"/startmenu",is_editable:!0},{id:5,title:"Users",content:"Manage participated users",link:"/users",is_editable:!1},{id:6,title:"Logs",content:"show logs",link:"/logs",is_editable:!1},{id:7,title:"Collect Questions",content:"Observe all questions risen up in chat-room",link:"/questions",is_editable:!1},{id:8,title:"Interested Users",content:"Focus on user who you are interested in",link:"/interest",is_editable:!1},{id:9,title:"Interested Words",content:"Focus on words which you want to watch",link:"/keypoint",is_editable:!1},{id:10,title:"FAQ Stats",content:"Figure a stat of your answers out more clear",link:"/faqstats",is_editable:!1}],a=0,n=Object.entries(e);a<n.length;a++){var i=n[a],r=Object(s.a)(i,2),l=r[0],c=r[1],o=l.split("_")[1];t[o-1].is_active=c?1:0}return t}},{key:"componentDidMount",value:function(){var e=this;S.a.post("/getStateModule",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=t.data[0],n=e.getEntireModules(a).map((function(e,t){return i.a.createElement(ie,{title:e.title,content:e.content,link:e.link,isEditable:e.is_editable,key:t,list_id:e.id,is_active:e.is_active})}));e.setState({itemlist:n})}))}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_modules"},i.a.createElement(H,{title:"Modules"}),i.a.createElement("div",{className:"modules_list_wrap"},this.state.itemlist))}}]),t}(i.a.Component)),se=(a(87),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={options:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.post("getOptions",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){e.setState({options:t.data[0]})}))}},{key:"save_options",value:function(){var e={chat_id:window.localStorage.getItem("chat_id"),img_filter:document.querySelector("#img_filtering").checked,block_bot:document.querySelector("#block_bot").checked,order_del:document.querySelector("#order_del").checked};S.a.post("setOptions",e).then((function(e){200===e.status?alert("save all completely"):alert("have a some problem to save data")}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"set_options"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,"Settings")),i.a.createElement(H,{title:"Settings"}),i.a.createElement("label",{className:"filter_group",htmlFor:"img_filtering"},"Face-filtering",i.a.createElement("input",{type:"checkbox",className:"option_item",id:"img_filtering",defaultChecked:this.state.options.is_img_filter}),i.a.createElement("span",{className:"filter_label"})),i.a.createElement("label",{className:"filter_group",htmlFor:"block_bot"},"Block Bots",i.a.createElement("input",{type:"checkbox",className:"option_item",id:"block_bot",defaultChecked:this.state.options.is_block_bot}),i.a.createElement("span",{className:"filter_label"})),i.a.createElement("label",{className:"filter_group",htmlFor:"order_del"},"Hide Participation Msg",i.a.createElement("input",{type:"checkbox",className:"option_item",id:"order_del",defaultChecked:this.state.options.is_ordering_comeout}),i.a.createElement("span",{className:"filter_label"})),i.a.createElement("button",{className:"save_btn",onClick:function(){return e.save_options()}},"SAVE"))}}]),t}(i.a.Component)),ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={modal:!1,modal_content:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"send_reply_message",value:function(e){var t=this,a={chat_id:window.localStorage.getItem("chat_id"),reply_to_message_id:e.currentTarget.dataset.mid,text:this.state.modal_content};S.a.post("https://api.telegram.org/bot".concat(this.props.botId,"/sendMessage"),a).then((function(){alert("the reply sent to chat successfully"),t.close_modal(),S.a.post("/setStateReplied",a)}))}},{key:"updateContent",value:function(e){this.setState({modal_content:e.target.value})}},{key:"open_modal",value:function(){this.setState({modal:!0})}},{key:"close_modal",value:function(){this.setState({modal:!1})}},{key:"getModalClass",value:function(){var e=this.props.data.id;return this.state.modal?"reply_modal_".concat(e," active_modal"):"reply_modal_".concat(e)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"questions_state"},null===this.props.data.replied_date?i.a.createElement("div",{className:"reply_partion"},i.a.createElement("a",{className:"reply_btn","data-mid":this.props.data.id,onClick:function(t){return e.open_modal()}},"REPLY"),i.a.createElement("div",{className:this.getModalClass()},i.a.createElement("div",{className:"modal_title"},i.a.createElement("p",null,"Write a reply")),i.a.createElement("textarea",{className:"reply_content",onChange:function(t){return e.updateContent(t)},placeholder:"reply to.."}),i.a.createElement("div",{className:"modal_btn_wrap"},i.a.createElement("a",{className:"cancle_btn",onClick:function(){return e.close_modal()}},"CANCLE"),i.a.createElement("a",{className:"submit_btn","data-mid":this.props.data.id,onClick:function(t){return e.send_reply_message(t)}},"SUBMIT")))):i.a.createElement("div",{className:"replied_date"},i.a.createElement("p",null,"replied time"),i.a.createElement("p",null,this.props.convertDateFormat(this.props.data.replied_date))))}}]),t}(i.a.Component),oe=(a(88),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={messages:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.post("getQuestions",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=[],n=!0,r=!1,l=void 0;try{for(var s,c=t.data[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var o=s.value;o.is_bot||a.push(o)}}catch(u){r=!0,l=u}finally{try{n||null==c.return||c.return()}finally{if(r)throw l}}e.setState({messages:a.map((function(t,a){return i.a.createElement("div",{className:"questions_content_wrap",key:a},i.a.createElement("div",{className:"questions_content"},i.a.createElement("p",null,t.text)),i.a.createElement("div",{className:"questions_username"},"".concat(t.first_name," ").concat(t.last_name)),i.a.createElement("div",{className:"questions_info"},i.a.createElement("div",{className:"questions_received_time"},i.a.createElement("p",null,e.convertDateFormat(t.date))),i.a.createElement(ce,{data:t,botId:e.props.botId,convertDateFormat:e.convertDateFormat})))}))})})).catch((function(e){console.log(e)}))}},{key:"convertDateFormat",value:function(e){var t=new Date(e);return t.toDateString()+" "+t.toTimeString().split(" ")[0]}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_questions"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"Collect Questions")),i.a.createElement(H,{title:"Manage all of questions"}),0===this.state.messages.length?i.a.createElement("div",{className:"empty_item"},"There's any questions yet"):this.state.messages)}}]),t}(i.a.Component)),ue=(a(89),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={interests:[],interest_member:[],serve_interests:[],active_popup:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.post("/getInterest",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=[],n=!0,i=!1,r=void 0;try{for(var l,s=t.data[Symbol.iterator]();!(n=(l=s.next()).done);n=!0){var c=l.value;a.push(c)}}catch(o){i=!0,r=o}finally{try{n||null==s.return||s.return()}finally{if(i)throw r}}e.setState({interests:a})})),S.a.post("/getInterestMembers",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=t.data;e.setState({interest_member:a.map((function(t,a){return i.a.createElement("tr",{className:"interest_member",key:a},i.a.createElement("td",null,t.first_name+" "+t.last_name),i.a.createElement("td",{onClick:function(){return e.changeContentbox(t.user_id)}},i.a.createElement("p",null,"VIEW")),i.a.createElement("td",null,i.a.createElement("i",{className:"icon icon-download"})))}))})}))}},{key:"changeContentbox",value:function(e){var t=this;this.setState({serve_interests:this.state.interests.map((function(a,n){var r=JSON.parse(a.entities);if(a.user_id===e&&a.text){if(r&&"bot_command"===r[0].type)return;return i.a.createElement("div",{className:"interest_contents",key:n},i.a.createElement("p",null,a.text),i.a.createElement("p",null,t.convertDateFormat(a.registered_time)))}})),active_popup:!0}),document.querySelector("body").onclick=function(e){t.closeContentbox()}}},{key:"closeContentbox",value:function(){this.setState({active_popup:!1}),document.querySelector("body").removeEventListener("click",this)}},{key:"convertDateFormat",value:function(e){var t=new Date(e);return t.toDateString()+" "+t.toTimeString().split(" ")[0]}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_interests"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"Users Followed")),i.a.createElement(H,{title:"Focus on user who you are interested in"}),i.a.createElement("table",{className:"interests_wrap"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"username"),i.a.createElement("th",null,"view"),i.a.createElement("th",null,"export"))),i.a.createElement("tbody",null,this.state.interest_member)),i.a.createElement("div",{className:this.state.active_popup?"interests_contents active":"interests_contents"},i.a.createElement(H,{title:"User Conversation Logs"}),this.state.serve_interests))}}]),t}(i.a.Component)),me=(a(90),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={wordlist:[],value:""},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getWordData()}},{key:"changeValues",value:function(e){this.setState({value:e.target.value})}},{key:"submit_blacklist",value:function(e){var t=this;if(0!==this.state.value.length){var a=this.state.value,n=window.localStorage.getItem("chat_id");if(0===n.length)return alert("There is any valid key of chatting information"),!1;S.a.post("pushExpectWord",{word:a,chat_id:n}).then((function(e){e.data&&(t.getWordData(),t.setState({value:""}))}))}}},{key:"changeStateWordlist",value:function(e,t){return e?S.a.post("editExpectedWord",{chat_id:window.localStorage.getItem("chat_id"),content:0,type:"status",id:t}):S.a.post("editExpectedWord",{chat_id:window.localStorage.getItem("chat_id"),content:1,type:"status",id:t}),!1}},{key:"getWordData",value:function(){var e=this;S.a.post("getExpectedWords",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){if(t.data&&200===t.status){var a=t.data;e.setState({wordlist:a.map((function(t,a){return i.a.createElement("tr",{key:a},i.a.createElement("td",null,t.word_name),i.a.createElement("td",null,t.created_time),i.a.createElement("td",null,i.a.createElement("span",{className:"delete_icon icon",onClick:function(a){return e.deleteWord(t.idx)}}),i.a.createElement("span",null," Delete")),i.a.createElement("td",null,i.a.createElement("div",{className:"disable_btn_wrap"},i.a.createElement("label",{className:"filter_group",htmlFor:a+"_whitelist"},i.a.createElement("input",{type:"checkbox",className:"option_item",id:a+"_whitelist",onChange:function(a){return e.changeStateWordlist(t.is_active,t.idx)},defaultChecked:!!t.is_active}),i.a.createElement("span",{className:"filter_label"}),i.a.createElement("span",{className:"filter_circle"})))))}))})}}))}},{key:"deleteWord",value:function(e){var t=this;window.confirm("Are you sure to Delete this Item?")&&S.a.post("delExpectedWord",{word_id:e,chat_id:window.localStorage.getItem("chat_id")}).then((function(e){200===e.status&&!0===e.data&&t.getWordData()}))}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"section_interestword"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"Interest Words")),i.a.createElement(H,{title:"put a word what you want to look down."}),i.a.createElement("div",{className:"interestword_input_wrap"},i.a.createElement("label",{htmlFor:"interestword_input",className:"interestword_label"},"Enter words you want to watch"),i.a.createElement("div",{className:"input_wrap"},i.a.createElement("input",{id:"interestword_input",className:"interestword_input",onChange:function(t){return e.changeValues(t)},onKeyUp:function(t){13===t.which&&e.submit_blacklist(t)},value:this.state.value}),i.a.createElement("button",{type:"button",className:"interestword_register",onClick:function(t){return e.submit_blacklist(t)}},"ADD"))),i.a.createElement("p",{className:"table_title"},"interest words"),i.a.createElement("table",{className:"interestword_tb"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{width:"35%"},"Words"),i.a.createElement("th",{width:"45%"},"Date Added"),i.a.createElement("th",{width:"10%"},"Action"),i.a.createElement("th",{width:"10%"},"Status"))),i.a.createElement("tbody",null,0===this.state.wordlist.length?i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"3",className:"empty_item"},"No Items")):this.state.wordlist)))}}]),t}(i.a.Component)),de=(a(91),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).state={faq_stats:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.a.post("/getFaqlist",{chat_id:window.localStorage.getItem("chat_id")}).then((function(t){var a=t.data;e.setState({faq_stats:a.map((function(e,t){return i.a.createElement("tr",{className:"faqstats_member",key:t},i.a.createElement("td",null,e.faq_response),i.a.createElement("td",null,e.helpful+" votes"),i.a.createElement("td",null,e.notenough+" votes"),i.a.createElement("td",null,e.wrong_answer+" votes"))}))})}))}},{key:"convertDateFormat",value:function(e){var t=new Date(e);return t.toDateString()+" "+t.toTimeString().split(" ")[0]}},{key:"render",value:function(){return i.a.createElement("div",{className:"section_faqstats"},i.a.createElement("div",{className:"module_path"},i.a.createElement("p",null,i.a.createElement("span",null,"Modules  /  "),"FAQ Stats")),i.a.createElement(H,{title:"Figure a stat of your answers out more clear"}),i.a.createElement("table",{className:"faqstats_wrap"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"FAQ"),i.a.createElement("th",{width:"15%"},"Useful"),i.a.createElement("th",{width:"15%"},"Not Enough Info"),i.a.createElement("th",{width:"15%"},"Wrong Info"))),i.a.createElement("tbody",null,this.state.faq_stats)))}}]),t}(i.a.Component));S.a.defaults.baseURL="https://chatbot-258301.appspot.com/api/";var he=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("word"),u=Object(s.a)(l,2),m=u[0],d=u[1],h=Object(n.useState)([]),p=Object(s.a)(h,2),f=(p[0],p[1]),g=Object(n.useState)("847825836:AAFv02ESsTVjnrzIomgdiVjBGWVw7CpN_Cg"),_=Object(s.a)(g,2),v=_[0],E=(_[1],"true"==y("living")),b="true"==y("STAY_C");function y(e){var t=document.cookie.split(";"),a=!0,n=!1,i=void 0;try{for(var r,l=t[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var s=r.value.split("=");if(s[0].trim()===e)return s[1]}}catch(c){n=!0,i=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}}return a||b?i.a.createElement(c.a,{basename:"/chatmanager"},i.a.createElement(P,{botId:v}),i.a.createElement("div",{className:"main_container"},i.a.createElement(V,{setStatus:d,statusNav:m,setChatInfo:f,botId:v}),i.a.createElement("section",{className:"section_content"},i.a.createElement(o.c,null,i.a.createElement(o.a,{path:"/",exact:!0,render:function(){return i.a.createElement(re,{botId:v})}}),i.a.createElement(o.a,{path:"/dashboard",render:function(){return i.a.createElement(re,{botId:v})}}),i.a.createElement(o.a,{path:"/modules",render:function(){return i.a.createElement(le,{botId:v})}}),i.a.createElement(o.a,{path:"/whitelist",render:function(){return i.a.createElement($,{botId:v})}}),i.a.createElement(o.a,{path:"/blacklist",render:function(){return i.a.createElement(K,{botId:v})}}),i.a.createElement(o.a,{path:"/faq",render:function(){return i.a.createElement(te,{botId:v})}}),i.a.createElement(o.a,{path:"/startmenu",render:function(){return i.a.createElement(ae,{botId:v})}}),i.a.createElement(o.a,{path:"/logs",render:function(){return i.a.createElement(X,{botId:v})}}),i.a.createElement(o.a,{path:"/users",render:function(){return i.a.createElement(ne,{botId:v})}}),i.a.createElement(o.a,{path:"/settings",render:function(){return i.a.createElement(se,{botId:v})}}),i.a.createElement(o.a,{path:"/questions",render:function(){return i.a.createElement(oe,{botId:v})}}),i.a.createElement(o.a,{path:"/interest",render:function(){return i.a.createElement(ue,{botId:v})}}),i.a.createElement(o.a,{path:"/keypoint",render:function(){return i.a.createElement(me,{botId:v})}}),i.a.createElement(o.a,{path:"/faqstats",render:function(){return i.a.createElement(de,{botId:v})}}))),i.a.createElement("div",{className:"dim"}))):i.a.createElement(c.a,null,i.a.createElement("div",{className:"App"},i.a.createElement(G,{onLogin:E,setValid:r}),i.a.createElement(o.c,null,i.a.createElement(o.a,{path:"/",exact:!0,render:function(){return i.a.createElement(k,null)}}),i.a.createElement(o.a,{path:"/features",render:function(){return i.a.createElement(z,null)}}),i.a.createElement(o.a,{path:"/signin",render:function(){return i.a.createElement(q,null)}})),i.a.createElement(J,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[46,1,2]]]);
//# sourceMappingURL=main.c0bec8c2.chunk.js.map